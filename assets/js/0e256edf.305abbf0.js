"use strict";(self.webpackChunkwallybum_github_io=self.webpackChunkwallybum_github_io||[]).push([[3535],{3905:function(e,n,r){r.d(n,{Zo:function(){return l},kt:function(){return g}});var t=r(7294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function p(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=t.createContext({}),i=function(e){var n=t.useContext(c),r=n;return e&&(r="function"==typeof e?e(n):s(s({},n),e)),r},l=function(e){var n=i(e.components);return t.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),d=i(r),g=o,m=d["".concat(c,".").concat(g)]||d[g]||u[g]||a;return r?t.createElement(m,s(s({ref:n},l),{},{components:r})):t.createElement(m,s({ref:n},l))}));function g(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=d;var p={};for(var c in n)hasOwnProperty.call(n,c)&&(p[c]=n[c]);p.originalType=e,p.mdxType="string"==typeof e?e:o,s[1]=p;for(var i=2;i<a;i++)s[i]=r[i];return t.createElement.apply(null,s)}return t.createElement.apply(null,r)}d.displayName="MDXCreateElement"},767:function(e,n,r){r.r(n),r.d(n,{assets:function(){return l},contentTitle:function(){return c},default:function(){return g},frontMatter:function(){return p},metadata:function(){return i},toc:function(){return u}});var t=r(7462),o=r(3366),a=(r(7294),r(3905)),s=["components"],p={sidebar_position:2,authors:["wallybum"],tags:["Database","PostgreSQL","Function","Procedure"]},c="PostgreSQL 11 \uc774\uc804 \ubc84\uc804\uc5d0\uc11c Procedure \uc0dd\uc131",i={unversionedId:"database/PostgreSQL/create-procedure-in-postgresql-version11-earller",id:"database/PostgreSQL/create-procedure-in-postgresql-version11-earller",title:"PostgreSQL 11 \uc774\uc804 \ubc84\uc804\uc5d0\uc11c Procedure \uc0dd\uc131",description:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud658\uacbd",source:"@site/docs/database/PostgreSQL/01. create-procedure-in-postgresql-version11-earller.md",sourceDirName:"database/PostgreSQL",slug:"/database/PostgreSQL/create-procedure-in-postgresql-version11-earller",permalink:"/docs/database/PostgreSQL/create-procedure-in-postgresql-version11-earller",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/database/PostgreSQL/01. create-procedure-in-postgresql-version11-earller.md",tags:[{label:"Database",permalink:"/docs/tags/database"},{label:"PostgreSQL",permalink:"/docs/tags/postgre-sql"},{label:"Function",permalink:"/docs/tags/function"},{label:"Procedure",permalink:"/docs/tags/procedure"}],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,authors:["wallybum"],tags:["Database","PostgreSQL","Function","Procedure"]},sidebar:"databaseSidebar",previous:{title:"\uac1c\uc694",permalink:"/docs/database/PostgreSQL/intro"}},l={},u=[{value:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud658\uacbd",id:"\ub370\uc774\ud130\ubca0\uc774\uc2a4-\ud658\uacbd",level:2},{value:"\uac1c\uc694",id:"\uac1c\uc694",level:2},{value:"\ud391\uc158\uacfc \ud504\ub85c\uc2dc\uc800",id:"\ud391\uc158\uacfc-\ud504\ub85c\uc2dc\uc800",level:2},{value:"\ud391\uc158(Function) \uc0dd\uc131",id:"\ud391\uc158function-\uc0dd\uc131",level:2},{value:"\ud504\ub85c\uc2dc\uc800(Procedure) \uc0dd\uc131 (PostgreSQL 11 \uc774\uc804)",id:"\ud504\ub85c\uc2dc\uc800procedure-\uc0dd\uc131-postgresql-11-\uc774\uc804",level:2},{value:"\ud504\ub85c\uc2dc\uc800(Procedure) \uc0dd\uc131 (PostgreSQL 11 \uc774\uc0c1)",id:"\ud504\ub85c\uc2dc\uc800procedure-\uc0dd\uc131-postgresql-11-\uc774\uc0c1",level:2},{value:"PostgreSQL 11 \uc774\uc804\ubc84\uc804\uc5d0\uc11c \ud391\uc158 \ubc0f \ud504\ub85c\uc2dc\uc800 \uc870\ud68c",id:"postgresql-11-\uc774\uc804\ubc84\uc804\uc5d0\uc11c-\ud391\uc158-\ubc0f-\ud504\ub85c\uc2dc\uc800-\uc870\ud68c",level:2},{value:"PostgreSQL 11 \uc774\uc0c1\ubc84\uc804\uc5d0\uc11c \ud391\uc158 \uc870\ud68c",id:"postgresql-11-\uc774\uc0c1\ubc84\uc804\uc5d0\uc11c-\ud391\uc158-\uc870\ud68c",level:2},{value:"PostgreSQL 11 \uc774\uc0c1\ubc84\uc804\uc5d0\uc11c \ud504\ub85c\uc2dc\uc800 \uc870\ud68c",id:"postgresql-11-\uc774\uc0c1\ubc84\uc804\uc5d0\uc11c-\ud504\ub85c\uc2dc\uc800-\uc870\ud68c",level:2}],d={toc:u};function g(e){var n=e.components,r=(0,o.Z)(e,s);return(0,a.kt)("wrapper",(0,t.Z)({},d,r,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"postgresql-11-\uc774\uc804-\ubc84\uc804\uc5d0\uc11c-procedure-\uc0dd\uc131"},"PostgreSQL 11 \uc774\uc804 \ubc84\uc804\uc5d0\uc11c Procedure \uc0dd\uc131"),(0,a.kt)("h2",{id:"\ub370\uc774\ud130\ubca0\uc774\uc2a4-\ud658\uacbd"},"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud658\uacbd"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Postgresql 9.2, PostgreSQL 11 \uc774\uc0c1")),(0,a.kt)("h2",{id:"\uac1c\uc694"},"\uac1c\uc694"),(0,a.kt)("p",null,"PostgreSQL DBMS \uc5ec\ub7ec \ubc84\uc804\uc5d0\uc11c Function\uacfc Procedure\ub97c \uc0dd\uc131\ud558\ub294 \uc791\uc5c5\uc744 \ud560\uc77c\uc774 \uc788\uc5c8\ub2e4.\n\uc0dd\uc131\ubc29\ubc95\uc740 \uacf5\uc2dd\ubb38\uc11c\ub97c \ud655\uc778\ud558\uba74 \uc27d\uac8c \ud655\uc778\ud560 \uc218 \uc788\uc73c\ub098,\nProcedure \uc0dd\uc131\uc740 PostgreSQL 11\ubc84\uc804\ubd80\ud130 \uc9c0\uc6d0\ud55c\ub2e4\ub294 \ubb38\uad6c\uac00 \uc774\ubaa9\uc744 \ub04c\uc5c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"'\uadf8\ub7ec\uba74 PostgreSQL 11 \uc774\uc804 \ubc84\uc804\uc5d0\uc11c\ub294 Procedure\ub97c \uc5b4\ub5bb\uac8c \uc0dd\uc131\ud558\uc9c0? \uc124\ub9c8 \uc9c0\uc6d0\uc744 \uc548\ud588\ub098?'")," "),(0,a.kt)("p",null,"\ub77c\ub294 \uc0dd\uac01\uc5d0\uc11c \uae30\ub85d\uc744 \ub0a8\uae30\ub824\uace0 \ud55c\ub2e4."),(0,a.kt)("h2",{id:"\ud391\uc158\uacfc-\ud504\ub85c\uc2dc\uc800"},"\ud391\uc158\uacfc \ud504\ub85c\uc2dc\uc800"),(0,a.kt)("p",null,"Function\uacfc Procedure \ub458\ub2e4 PL/SQL\uc744 \uc774\uc6a9\ud558\uc5ec \ub9cc\ub4e4\uae30 \ub54c\ubb38\uc5d0 \ubb38\ubc95\uc801\uc778 \ucc28\uc774\ub294 \uc5c6\ub2e4.\n\ud558\uc9c0\ub9cc, Function\uc740 ",(0,a.kt)("strong",{parentName:"p"},"\ubc18\ub4dc\uc2dc 1\uac1c\uc758 Return\uac12\uc774 \uc874\uc7ac"),"\ud558\uba70, Procedure\ub294 ",(0,a.kt)("strong",{parentName:"p"},"Return\uac12\uc774 \uc5c6\uac70\ub098 2\uac1c \uc774\uc0c1 \uc874\uc7ac"),"\ud560 \uc218\ub3c4 \uc788\ub2e4."),(0,a.kt)("h2",{id:"\ud391\uc158function-\uc0dd\uc131"},"\ud391\uc158(Function) \uc0dd\uc131"),(0,a.kt)("p",null,"PostgreSQL\uc5d0\uc11c\ub294 ",(0,a.kt)("strong",{parentName:"p"},"Create Function"),"\uc744 \uc774\uc6a9\ud558\uc5ec Function\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\ub2e4. Return \ud0c0\uc785\uc774 \ubc18\ub4dc\uc2dc \ud544\uc694\ud558\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"-- \uc0c8 \ud391\uc158\nCREATE FUNCTION addfunc(a INTEGER, b INTEGER)\nRETURNS INTEGER AS\n$$ BEGIN\n    RETURN a+b;\nEND; $$\nLANGUAGE PLPGSQL;\n\n-- \uc0c8 \ud391\uc158\nCOMMENT ON FUNCTION public.addfunc(INTEGER, INTEGER) IS '\ud391\uc158 \uc8fc\uc11d';\n")),(0,a.kt)("h2",{id:"\ud504\ub85c\uc2dc\uc800procedure-\uc0dd\uc131-postgresql-11-\uc774\uc804"},"\ud504\ub85c\uc2dc\uc800(Procedure) \uc0dd\uc131 (PostgreSQL 11 \uc774\uc804)"),(0,a.kt)("p",null,"PostgreSQL 11 \uc774\uc804\ubc84\uc804 \uae4c\uc9c0\ub294 ",(0,a.kt)("strong",{parentName:"p"},"Create Procedure")," \uad6c\ubb38\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc558\ub2e4. Stored Procedure\ub97c \uc0dd\uc131\ud558\uae30 \uc704\ud574 ",(0,a.kt)("strong",{parentName:"p"},"Create Function")," \uad6c\ubb38\uc744 \uc774\uc6a9\ud558\uc5ec \uc0dd\uc131\ud560 \uc218\uc788\ub2e4. \uc544\ub798\ub294 Return \ud0c0\uc785\uc774 Void\uc778 \uacbd\uc6b0\uc774\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE FUNCTION stamp_user(id int, comment text) RETURNS void AS $$ \n      #variable_conflict use_variable \n         DECLARE \n           curtime timestamp := now(); \n         BEGIN \n         UPDATE users SET last_modified = curtime, comment = comment \n            WHERE users.id = id; \n         END; \n$$ LANGUAGE plpgsql; \n")),(0,a.kt)("h2",{id:"\ud504\ub85c\uc2dc\uc800procedure-\uc0dd\uc131-postgresql-11-\uc774\uc0c1"},"\ud504\ub85c\uc2dc\uc800(Procedure) \uc0dd\uc131 (PostgreSQL 11 \uc774\uc0c1)"),(0,a.kt)("p",null,"PostgreSQL 11\ubc84\uc804 \ubd80\ud130\ub294 ",(0,a.kt)("strong",{parentName:"p"},"Create Procedure"),"\uad6c\ubb38\uc744 \uc774\uc6a9\ud558\uc5ec Stored Procedure\ub97c \ub9cc\ub4e4 \uc218 \uc788\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE TB_PROCEDURE(\n     COL VARCHAR NULL\n);\n\nCREATE PROCEDURE insert_data(a integer, b integer)\nLANGUAGE SQL\nAS $$\nINSERT INTO TB_PROCEDURE VALUES (a);\nINSERT INTO TB_PROCEDURE VALUES (b);\n$$\n\ncomment on procedure insert_data(integer, integer) is '\ud504\ub85c\uc2dc\uc800 \uc8fc\uc11d';\n")),(0,a.kt)("h2",{id:"postgresql-11-\uc774\uc804\ubc84\uc804\uc5d0\uc11c-\ud391\uc158-\ubc0f-\ud504\ub85c\uc2dc\uc800-\uc870\ud68c"},"PostgreSQL 11 \uc774\uc804\ubc84\uc804\uc5d0\uc11c \ud391\uc158 \ubc0f \ud504\ub85c\uc2dc\uc800 \uc870\ud68c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"select\n        ns.nspname as schemaName\n    ,   proc.proname as routine_name\n    ,   pg_get_functiondef(proc.oid) as definition\n    ,   pg_get_function_arguments(proc.oid) as arguments\n    ,   lang.lanname as lang_name\n    ,   obj_description(proc.oid) as comment\n    ,   proiswindow -- 11\uc774\uc0c1 \ubc84\uc804\uc5d0\uc11c\ub294 \uc0ac\ub77c\uc9c4 \uceec\ub7fc\n    ,   provolatile\n    ,   procost\n    ,   prorows\n    ,   prosecdef\n    ,   proleakproof\n    ,   proisstrict\n    ,   proretset\n    ,   type.typname as returntype\nfrom pg_proc as proc\njoin pg_namespace as ns on proc.pronamespace  = ns.oid\njoin pg_language as lang on proc.prolang = lang.oid\njoin pg_type as type on proc.prorettype = type.oid\nwhere nspname ='{\uc2a4\ud0a4\ub9c8 \uba85}'\nand proc.proisagg = false\n")),(0,a.kt)("h2",{id:"postgresql-11-\uc774\uc0c1\ubc84\uc804\uc5d0\uc11c-\ud391\uc158-\uc870\ud68c"},"PostgreSQL 11 \uc774\uc0c1\ubc84\uc804\uc5d0\uc11c \ud391\uc158 \uc870\ud68c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"select\n        ns.nspname as schemaName\n    ,   proc.proname as routine_name\n    ,   pg_get_functiondef(proc.oid) as definition\n    ,   pg_get_function_arguments(proc.oid) as arguments\n    ,   lang.lanname as lang_name\n    ,   obj_description(proc.oid) as comment\n    ,   proc.prokind -- \ucd94\uac00\ub428\n    ,   provolatile\n    ,   procost\n    ,   prorows\n    ,   prosecdef\n    ,   proleakproof\n    ,   proisstrict\n    ,   proretset\n    ,   type.typname as retuntype\nfrom pg_proc as proc\njoin pg_namespace as ns on proc.pronamespace = ns.oid\njoin pg_language as lang on proc.prolang = lang.oid\njoin pg_type as type on proc.prorettype = type.oid\nwhere nspname='{\uc2a4\ud0a4\ub9c8 \uba85}'\nand proc.prokind = 'f' -- \ud504\ub85c\uc2dc\uc800 \uc870\ud68c \uc2dc prokind \uac12\uc774 f\n")),(0,a.kt)("h2",{id:"postgresql-11-\uc774\uc0c1\ubc84\uc804\uc5d0\uc11c-\ud504\ub85c\uc2dc\uc800-\uc870\ud68c"},"PostgreSQL 11 \uc774\uc0c1\ubc84\uc804\uc5d0\uc11c \ud504\ub85c\uc2dc\uc800 \uc870\ud68c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"select\n        ns.nspname as schemaName\n    ,   proc.proname as routine_name\n    ,   pg_get_functiondef(proc.oid) as definition\n    ,   pg_get_function_arguments(proc.oid) as arguments\n    ,   lang.lanname as lang_name\n    ,   obj_description(proc.oid) as comment\n    ,   proc.prokind -- \ucd94\uac00\ub428\n    ,   provolatile\n    ,   procost\n    ,   prorows\n    ,   prosecdef\n    ,   proleakproof\n    ,   proisstrict\n    ,   proretset\n    ,   type.typname as retuntype\nfrom pg_proc as proc\njoin pg_namespace as ns on proc.pronamespace = ns.oid\njoin pg_language as lang on proc.prolang = lang.oid\njoin pg_type as type on proc.prorettype = type.oid\nwhere nspname='{\uc2a4\ud0a4\ub9c8 \uba85}'\nand proc.prokind = 'p' -- \ud504\ub85c\uc2dc\uc800 \uc870\ud68c \uc2dc prokind \uac12\uc774 p\n")))}g.isMDXComponent=!0}}]);